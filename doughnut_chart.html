<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/libs/mdb.min.css" rel="stylesheet">
    <link rel='stylesheet' type='text/css' href='./css/libs/Chart.min.css'>
    <link rel="stylesheet" href="text/css" href="./css/bill_waters.css">
    <script src='./js/libs/jquery-3.5.1.min.js'></script>
    <script type="application/javascript" src="./js/libs/bootstrap.bundle.min.js"></script>
    <script src='./js/libs/Chart.bundle.min.js'></script>
    <script src='./js/globals.js'></script>
    <script src='./js/utils.js'></script>
    <script src='./js/doughnut_chart.js'></script>
    <script src='js/libs/mdb.min.js'></script>
    <script src="./js/platform.js"></script>
    <script src="./js/bill_list.js"></script>
    <script src="./js/bill_waters.js"></script>
    <script src="./js/datajson_read.js"></script>
    <script src='./js/data_producer.js'></script>

    <style>
        .zebra-list-button:focus {
            background-color: white;
        }

        .fixed-button {
            position: fixed;
            bottom: 2em;
            right: 2em;
            min-width: 64px;
            min-height: 64px;
            z-index: 997;
            background-color: dodgerblue;
            box-shadow: 2px 5px 8px rgb(126, 126, 126);
        }
    </style>
    <script>
        $(function () {
            var tb = new ob();
            updateAllListByTimeLineWithAccount($('#chart-cardlist'), produce(), tb);
        });
    </script>
</head>

<body>
    <nav class="navbar fixed-top navbar-expand-md navbar-light bg-light">
        <div class="container-fluid">
            <!-- Navbar brand -->
            <a class="navbar-brand" onclick="javascript :history.back(-1);">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-left" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z" />
                </svg>

            </a>
            <span class="navbar-text">
                图表
            </span>
        </div>
    </nav>
    <hr class="mt-5">
    <div class="card ml-1 mr-1 mt-4" style="height: 35vh;">
        <div class="card-body">
            <canvas id='doughnut-chart'></canvas>
        </div>
    </div>
    <div class="card ml-1 mr-1 mt-4">
        <div class="card-header text-center">
            <div class="list-group list-group-horizontal">
                <button type="button" class="list-group-item list-group-item-action active" id="income"
                    data-toggle="list">收入</button>
                <button type="button" class="list-group-item list-group-item-action" id="expense"
                    data-toggle="list">支出</button>
            </div>
        </div>
        <div class="card-body text-center">
            <div class="list-group">
                <button type="button" class="list-group-item active" id="account" data-toggle="list">账户</button>
                <button type="button" class="list-group-item" id="maincat" data-toggle="list">一级类别</button>
                <button type="button" class="list-group-item" id="subcat" data-toggle="list">二级类别</button>
                <button type="button" class="list-group-item" id="member" data-toggle="list">成员</button>
                <button type="button" class="list-group-item" id="merchant" data-toggle="list">商家</button>
                <button type="button" class="list-group-item" id="item" data-toggle="list">项目</button>
            </div>
        </div>
        <div class="card-footer">
            <div class="shell">
                <div class="left">
                    <label class="form-label" for="begin-time">起始时间</label>
                    <input type="date" id="begin-time" class="form-control">
                </div>
                <div class="right">
                    <label class="form-label" for="end-time">结束时间</label>
                    <input type="date" id="end-time" class="form-control">
                </div>
            </div>
        </div>
    </div>
    <!-- modal begin -->
    <!-- https://mdbootstrap.com/docs/jquery/modals/basic/#usage -->
    <div class="modal fade" id="ModalCenter" tabindex="-1" role="dialog" aria-labelledby="ModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ModalLongTitle">请选择一级类别</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <select class="browser-default custom-select" id='category'>
                    </select>
                </div>
                <div class="modal-footer">
                    <!-- <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary">确定</button> -->
                </div>
            </div>
        </div>
    </div>
    <!-- modal end -->

    <script src='./js/libs/jquery-3.5.1.min.js'></script>
    <script src='./js/libs/Chart.bundle.min.js'></script>
    <script src='js/libs/mdb.min.js'></script>

    <script src='./js/globals.js'></script>
    <script src='./js/utils.js'></script>
    <script src='./js/doughnut_chart.js'></script>

    <script>
        $('button#subcat').click(_ => {
            $('#ModalCenter').modal('show')
        });
    </script>

</body>

</html>